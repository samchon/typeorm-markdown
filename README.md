# TypeORM Markdown

![typeorm_markdown_thumbnail](https://github.com/yiy0ung/typeorm-markdown/assets/38432821/49907ca0-43cf-44d1-b493-0c9deb1365f4)

[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](./LICENCE)
[![npm version](https://img.shields.io/npm/v/typeorm-markdown.svg)](https://www.npmjs.com/package/typeorm-markdown)
[![Downloads](https://img.shields.io/npm/dm/typeorm-markdown.svg)](https://www.npmjs.com/package/typeorm-markdown)

TypeORM markdown documents generator.

This package is inspired by [prisma-markdown](https://github.com/samchon/prisma-markdown), so it has similar usage.

- Mermaid ERD diagrams
- Descriptions by JSDoc
- Separations by @namespace comments

If you want to see how markdown document being generated, visit below examples:

- Markdown Content: [yiy0ung/typeorm-markdown/test/erd.md](https://github.com/yiy0ung/typeorm-markdown/blob/main/test/erd.md)
- TypeORM Entity Class: [yiy0ung/typeorm-markdown/test/entities](https://github.com/yiy0ung/typeorm-markdown/tree/main/test/entities)

## Set up

```
npm i -D typeorm-markdown
```

### Command Line Interface

```
typeorm-markdown version 0.1.0
Usage: typeorm-markdown [options]

Options:
  -v, --version              Print the current version
  -i, --input <input_regex>  Input entity files as a glob pattern
  -o, --output <dir_path>    Directory path where the erd document will be output (default: "./")
  -t, --title <title>        Title of the generated erd document (default: "ERD")
  --project <project_path>   Use --project to explicitly specify the path to a tsconfig.json (default: "tsconfig.json")
  -h, --help                 display help for command               display help for command
```

## Comment Tags

- `@namespace <name>`: Both ERD and markdown content
- `@erd <name>`: Only ERD
- `@describe <name>`: Only markdown content, without ERD
- `@hidden`: Neither ERD nor markdown content

```typescript
/**
 * Both description and ERD on User chapter.
 * Also, only ERD on Blog chapter.
 *
 * @namespace User
 * @erd Blog
 */
@Entity()
class User {}

/**
 * Only description on User chapter.
 *
 * @describe User
 */
@Entity()
class UserProfile {}

/**
 * Only description on Blog chapter.
 *
 * @erd Blog
 */
@Entity()
class BlogPost {}

/**
 * Never be shown.
 *
 * @hidden
 */
@Entity()
class BlogPostHit {}
```

## Notice

`typeorm-markdown` will generate markdown as specified in the ORM, so any columns that are auto-generated by TypeORM (such as fk columns) cannot be reflected in the markdown documents.

Therefore, it is recommended to write N:M tables and fk columns specifically in the ORM.

## License

[MIT](./LICENCE)
